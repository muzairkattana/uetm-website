<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="UET Mardan - University of Engineering and Technology, offering quality education in engineering and technology.">
  <meta name="keywords" content="UET Mardan, University, Engineering, Technology, Education, Pakistan">
  <title>UET Mardan - University of Engineering and Technology</title>
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="images/logo.ico">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- External CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <nav>
    <img src="images/logo.PNG" alt="UET Mardan Logo">
    <button id="menu-btn" aria-label="Open menu">
      <i class="fas fa-bars"></i>
    </button>

    <div class="navigation">
      <ul>
        <button id="menu-close" aria-label="Close menu">
          <i class="fas fa-times"></i>
        </button>
        <li><a href="#home">Home</a></li>
        <li><a href="#features">About</a></li>
        <li><a href="#course">Programs</a></li>
        <li><a href="#registration">Admissions</a></li>
        <li><a href="#campus-location">Campus</a></li>
        <li><a href="#" id="pages-btn">Pages</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>
  
  <!-- Pages Overlay (blurry slide bar) -->
  <div id="pages-overlay" class="pages-overlay" aria-hidden="true">
    <div class="pages-panel" role="dialog" aria-modal="true" aria-labelledby="pages-title">
      <button id="pages-close" class="pages-close" aria-label="Close pages menu">
        <i class="fas fa-times"></i>
      </button>
      <h3 id="pages-title">Quick Pages</h3>
      <p class="pages-subtitle">Explore sections (clickable demo, no navigation)</p>
      <div class="pages-grid">
        <a href="#" class="page-link">Home</a>
        <a href="#" class="page-link">Introduction</a>
        <a href="#" class="page-link">About</a>
        <a href="#" class="page-link">Programs</a>
        <a href="#" class="page-link">Admissions</a>
        <a href="#" class="page-link">Departments</a>
        <a href="#" class="page-link">Research</a>
        <a href="#" class="page-link">News</a>
        <a href="#" class="page-link">Events</a>
        <a href="#" class="page-link">Library</a>
        <a href="#" class="page-link">Alumni</a>
        <a href="#" class="page-link">Careers</a>
        <a href="#" class="page-link">Contact</a>
      </div>
    </div>
  </div>
  
  <!-- Hero -->
  <section id="home">
    <!-- Background slideshow layers -->
    <div class="hero-bg-layer" data-bg="images/slider.jpg"></div>
    <div class="hero-bg-layer" data-bg="images/slider 1.jpg"></div>
    <div class="hero-bg-layer" data-bg="images/slider 2.jpg"></div>
    <div class="hero-bg-layer" data-bg="images/class.jpg"></div>
    <div class="hero-bg-layer" data-bg="images/lab_5.jpg"></div>
    
    <h2>University of Engineering & Technology Mardan</h2>
    <p>Empowering future engineers with cutting-edge education, research excellence, and innovative solutions for tomorrow's challenges.</p>
    <div class="btn">
      <a href="#course" class="blue">Explore Programs</a>
      <a href="#registration" class="yellow">Apply Now</a>
    </div>
  </section>


   <!-- Features Section -->
    <section id="features">
        <h1>Why Choose UET Mardan</h1>
        <p>Discover the exceptional opportunities and world-class education we offer</p>
        <div class="feature-container">
            <div class="fea-box">
                <i class="fas fa-graduation-cap"></i>
                <h3>Scholarship Opportunities</h3>
                <p>Merit-based and need-based scholarships available for deserving students to pursue their engineering dreams</p>
            </div>
            <div class="fea-box">
                <i class="fas fa-laptop-code"></i>
                <h3>Modern Learning</h3>
                <p>State-of-the-art laboratories and digital learning platforms for hands-on engineering education</p>
            </div>
            <div class="fea-box">
                <i class="fas fa-award"></i>
                <h3>Global Recognition</h3>
                <p>Internationally recognized degree programs accredited by Pakistan Engineering Council</p>
            </div>
        </div>
    </section>

  <!-- Academic Programs -->
  <section id="course">
    <h1>Our Engineering Programs</h1>
    <p>Discover our comprehensive range of undergraduate and graduate engineering programs.</p>
    <div class="course-container">
      <div class="course-card">
        <img src="images/computerscience.jpeg" alt="Computer Science">
        <i class="fas fa-code"></i>
        <h3>Computer Science</h3>
        <p>Advanced programming, algorithms, and software development with modern technologies.</p>
        <div class="program-info">
          <span class="duration">4 Years</span>
          <span class="degree">BS Degree</span>
        </div>
      </div>
      
      <div class="course-card">
        <img src="images/slider 2.jpg" alt="Software Engineering">
        <i class="fas fa-laptop-code"></i>
        <h3>Software Engineering</h3>
        <p>Comprehensive software development lifecycle, project management, and system design.</p>
        <div class="program-info">
          <span class="duration">4 Years</span>
          <span class="degree">BS Degree</span>
        </div>
      </div>
      
      <div class="course-card">
        <img src="images/slider 1.jpg" alt="Civil Engineering">
        <i class="fas fa-building"></i>
        <h3>Civil Engineering</h3>
        <p>Infrastructure development, structural design, and construction project management.</p>
        <div class="program-info">
          <span class="duration">4 Years</span>
          <span class="degree">BS Degree</span>
        </div>
      </div>

      <div class="course-card">
        <img src="images/lab_5.jpg" alt="Electrical Engineering">
        <i class="fas fa-bolt"></i>
        <h3>Electrical Engineering</h3>
        <p>Power systems, electronics, control systems, and renewable energy technologies.</p>
        <div class="program-info">
          <span class="duration">4 Years</span>
          <span class="degree">BS Degree</span>
        </div>
      </div>

      <div class="course-card">
        <img src="images/c1.jpeg" alt="Mechanical Engineering">
        <i class="fas fa-cog"></i>
        <h3>Mechanical Engineering</h3>
        <p>Thermodynamics, manufacturing processes, robotics, and automotive engineering.</p>
        <div class="program-info">
          <span class="duration">4 Years</span>
          <span class="degree">BS Degree</span>
        </div>
      </div>

      <div class="course-card">
        <img src="images/c2.jpeg" alt="Artificial Intelligence">
        <i class="fas fa-brain"></i>
        <h3>Artificial Intelligence</h3>
        <p>Machine learning, data science, neural networks, and intelligent systems development.</p>
        <div class="program-info">
          <span class="duration">4 Years</span>
          <span class="degree">BS Degree</span>
        </div>
      </div>
    </div>
  </section>


  <!-- Admissions -->
  <section id="registration">
    <div class="admission-container">
      <div class="admission-info">
        <h2>Admissions Open 2024</h2>
        <p>Join UET Mardan and become part of Pakistan's leading engineering university. Applications are now open for undergraduate programs.</p>
        
        <div class="admission-highlights">
          <div class="highlight-item">
            <i class="fas fa-calendar-alt"></i>
            <span>Application Deadline: March 15, 2024</span>
          </div>
          <div class="highlight-item">
            <i class="fas fa-graduation-cap"></i>
            <span>Merit & Need-based Scholarships Available</span>
          </div>
          <div class="highlight-item">
            <i class="fas fa-certificate"></i>
            <span>HEC Recognized Degree Programs</span>
          </div>
        </div>
      </div>
      
      <div class="admission-form">
        <form>
          <h3>Apply Now</h3>
          <input type="text" placeholder="Full Name" name="fullName" id="fullName" required>
          <input type="email" placeholder="Email Address" name="email" id="email" required>
          <input type="tel" placeholder="Phone Number" name="phone" id="phone" required>
          <select name="program" id="program" required>
            <option value="">Select Program</option>
            <option value="computer-science">Computer Science</option>
            <option value="software-engineering">Software Engineering</option>
            <option value="civil-engineering">Civil Engineering</option>
            <option value="electrical-engineering">Electrical Engineering</option>
            <option value="mechanical-engineering">Mechanical Engineering</option>
            <option value="artificial-intelligence">Artificial Intelligence</option>
          </select>
          <button type="submit" class="blue">Submit Application</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Campus Location Section with Interactive Map -->
  <section id="campus-location">
    <div class="location-container">
      <div class="location-info">
        <h1>Find Our Campus</h1>
        <p>Located in the heart of Mardan, our beautiful campus spans 172 Kanals and offers state-of-the-art facilities for engineering education.</p>
        
        <div class="location-details">
          <div class="location-item">
            <i class="fas fa-map-marker-alt"></i>
            <div>
              <h3>Campus Address</h3>
              <p>University of Engineering & Technology<br>Charsadda Road, 23200<br>Mardan, Khyber Pakhtunkhwa, Pakistan</p>
            </div>
          </div>
          
          <div class="location-item">
            <i class="fas fa-car"></i>
            <div>
              <h3>Transportation</h3>
              <p>Easily accessible by public transport<br>Parking facilities available on campus<br>Multiple bus routes available</p>
            </div>
          </div>
          
          <div class="location-item">
            <i class="fas fa-clock"></i>
            <div>
              <h3>Visiting Hours</h3>
              <p>Monday - Friday: 8:00 AM - 4:00 PM<br>Saturday: 9:00 AM - 2:00 PM<br>Sunday: Closed</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="map-section">
        <h2>Interactive Campus Map</h2>
        <div class="footer-map-container">
          <iframe title="UET Mardan Location"
                  loading="lazy"
                  allowfullscreen
                  referrerpolicy="no-referrer-when-downgrade"
                  src="https://www.google.com/maps?q=University%20of%20Engineering%20%26%20Technology%20Mardan%20Charsadda%20Road%20Mardan%20Khyber%20Pakhtunkhwa%20Pakistan&output=embed">
          </iframe>
        </div>
        <div class="map-actions">
          <a href="https://www.google.com/maps/search/?api=1&query=University+of+Engineering+%26+Technology+Mardan+Charsadda+Road+Mardan+Khyber+Pakhtunkhwa+Pakistan" 
             target="_blank" rel="noopener" class="footer-map-link">
            <i class="fas fa-external-link-alt"></i> View on Google Maps
          </a>
          <a href="https://www.google.com/maps/dir//University+of+Engineering+%26+Technology+Mardan+Charsadda+Road+Mardan+Khyber+Pakhtunkhwa+Pakistan" 
             target="_blank" rel="noopener" class="footer-map-link directions-btn">
            <i class="fas fa-directions"></i> Get Directions
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="contact">
    <div class="footer-col">
      <h3>Academic Programs</h3>
      <ul>
        <li>Computer Science</li>
        <li>Software Engineering</li>
        <li>Civil Engineering</li>
        <li>Electrical Engineering</li>
        <li>Mechanical Engineering</li>
      </ul>
    </div>
    
    <div class="footer-col">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="#">Admissions</a></li>
        <li><a href="#">Academic Calendar</a></li>
        <li><a href="#">Student Portal</a></li>
        <li><a href="#">Faculty Portal</a></li>
        <li><a href="#">Quality Enhancement Cell</a></li>
      </ul>
    </div>
    
    <div class="footer-col">
      <h3>Contact Information</h3>
      <ul>
        <li><i class="fas fa-phone"></i> +92-937-9230295</li>
        <li><i class="fas fa-phone"></i> +92-937-9230296</li>
        <li><i class="fas fa-envelope"></i> info@uetmardan.edu.pk</li>
        <li><i class="fas fa-globe"></i> www.uetmardan.edu.pk</li>
      </ul>
    </div>
    
    <div class="footer-col">
      <h3>Location</h3>
      <ul>
        <li><i class="fas fa-map-marker-alt"></i> University of Engineering & Technology</li>
        <li>Charsadda Road, 23200</li>
        <li>Mardan, Khyber Pakhtunkhwa</li>
        <li>Pakistan</li>
      </ul>
    </div>
    
    <div class="footer-col">
      <h3>Stay Connected</h3>
      <p>Follow us for latest updates and announcements</p>
      <div class="social-links">
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
      </div>
    </div>
    
    
    <div class="footer-bottom">
      <div class="copyright">
        <p>&copy; 2024 University of Engineering & Technology Mardan. All rights reserved.</p>
      </div>
    </div>
</footer>
  <button id="scrollTopBtn" aria-label="Back to top" title="Back to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Smart AI Chatbot -->
  <div id="chatbot-toggle" aria-label="Open AI Assistant" title="UET Mardan AI Assistant">
    <svg class="bot-icon" width="28" height="28" viewBox="0 0 48 48" aria-hidden="true" focusable="false">
      <defs>
        <linearGradient id="botGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#6dd5fa"/>
          <stop offset="100%" stop-color="#2980b9"/>
        </linearGradient>
        <linearGradient id="ringGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#8fd3f4"/>
          <stop offset="100%" stop-color="#84fab0"/>
        </linearGradient>
      </defs>
      <circle cx="24" cy="24" r="22" fill="none" stroke="url(#ringGrad)" stroke-width="2" opacity="0.6"/>
      <rect x="12" y="14" width="24" height="20" rx="8" fill="url(#botGrad)"/>
      <circle cx="20" cy="24" r="2.5" fill="#ffffff"/>
      <circle cx="28" cy="24" r="2.5" fill="#ffffff"/>
      <path d="M18 28c2.5 3 9.5 3 12 0" stroke="#ffffff" stroke-width="2" stroke-linecap="round" fill="none"/>
      <line x1="24" y1="10" x2="24" y2="14" stroke="url(#botGrad)" stroke-width="2" stroke-linecap="round"/>
      <circle cx="24" cy="8" r="2" fill="url(#botGrad)"/>
    </svg>
    <div class="chat-pulse"></div>
  </div>

  <div id="chatbot-container" class="chatbot-hidden">
    <div class="chatbot-header">
      <div class="chatbot-avatar">
        <img src="images/logo.png" alt="UET Mardan Chatbot" />
      </div>
      <div class="chatbot-info">
        <h4>UET Assistant</h4>
        <span class="status online">Online</span>
      </div>
      <div class="chatbot-actions">
        <button id="voice-toggle" title="Voice Chat" class="voice-btn">
          <i class="fas fa-microphone"></i>
        </button>
        <button id="call-btn" title="Request Call" class="call-btn">
          <i class="fas fa-phone"></i>
        </button>
        <button id="chatbot-minimize" title="Minimize" class="minimize-btn">
          <i class="fas fa-minus"></i>
        </button>
        <button id="chatbot-close" title="Close" class="close-btn">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    
    <div class="chatbot-body">
      <div id="chat-messages" class="chat-messages">
        <div class="message bot-message welcome-message">
          <div class="message-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <div class="message-content">
            <p>Welcome to UET Mardan! 👋 I'm your AI Assistant. How can I help you today?</p>
            <div class="quick-suggestions">
              <button class="suggestion-btn" data-text="Tell me about admission process">🎓 Admissions</button>
              <button class="suggestion-btn" data-text="What programs do you offer?">📚 Programs</button>
              <button class="suggestion-btn" data-text="Campus facilities information">🏫 Facilities</button>
              <button class="suggestion-btn" data-text="Contact information">📞 Contact</button>
            </div>
          </div>
        </div>
      </div>
      
      <div id="typing-indicator" class="typing-indicator hidden">
        <div class="typing-dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <span class="typing-text">Assistant is typing...</span>
      </div>
    </div>
    
    <div class="chatbot-footer">
      <div class="voice-status hidden" id="voice-status">
        <div class="voice-animation">
          <div class="voice-wave"></div>
          <div class="voice-wave"></div>
          <div class="voice-wave"></div>
        </div>
        <span>Listening...</span>
      </div>
      
      <div class="input-container">
        <input type="text" id="chat-input" placeholder="Type your message or click the mic to speak..." autocomplete="off">
        <button id="voice-input-btn" class="voice-input-btn" title="Voice Input">
          <i class="fas fa-microphone"></i>
        </button>
        <button id="send-message" class="send-btn" title="Send Message">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $(document).ready(function() {
      // Mobile menu toggle
      $('#menu-btn').click(function() {
        $('nav .navigation ul').addClass('active');
      });

      $('#menu-close').click(function() {
        $('nav .navigation ul').removeClass('active');
      });
      
      // Smooth scrolling for navigation links
      $('a[href^="#"]').on('click', function(event) {
        var target = $(this.getAttribute('href'));
        if (target.length) {
          event.preventDefault();
          $('html, body').stop().animate({
            scrollTop: target.offset().top - 80
          }, 700);
        }
      });
      
      // Form submission (demo)
      $('form').on('submit', function(event) {
        event.preventDefault();
        alert('Thank you for your application! We will contact you soon.');
      });

      // Back-to-top button logic with progress ring
      const $win = $(window);
      const $doc = $(document);
      const $scrollTopBtn = $('#scrollTopBtn');

      function handleScroll() {
        const scrollTop = $win.scrollTop();
        const docH = $doc.height();
        const winH = $win.height();
        const maxScroll = Math.max(1, docH - winH);
        const progress = Math.min(100, Math.round((scrollTop / maxScroll) * 100));

        // Update CSS variable for progress ring
        document.documentElement.style.setProperty('--scroll', progress + '%');

        // Toggle visibility of the button
        if (scrollTop > 300) {
          $scrollTopBtn.addClass('show');
        } else {
          $scrollTopBtn.removeClass('show');
        }

        // Existing navbar scroll effect
        if (scrollTop > 100) {
          $('nav').addClass('scrolled');
        } else {
          $('nav').removeClass('scrolled');
        }
      }

      // Initial invoke and bind
      handleScroll();
      $win.on('scroll', handleScroll);

      // Scroll to top on click
      $scrollTopBtn.on('click', function() {
        $('html, body').animate({ scrollTop: 0 }, 700, 'swing');
      });

      // ============= AI CHATBOT FUNCTIONALITY =============
      
      // Chatbot state variables
      let isRecording = false;
      let recognition = null;
      let synthesis = window.speechSynthesis;
      let chatHistory = [];
      let isTyping = false;
      let voiceEnabled = false;
      
      // Initialize Speech Recognition
      if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.lang = 'en-US';
      }
      
      // UET Mardan Knowledge Base
      const knowledgeBase = {
        // Admission related questions
        admission: {
          keywords: ['admission', 'apply', 'application', 'entry', 'enrollment', 'join', 'deadline', 'fee', 'merit'],
          responses: [
            {
              trigger: ['admission process', 'how to apply', 'application process'],
              answer: "📋 **UET Mardan Admission Process:**\n\n✅ **Step 1:** Fill online application form\n✅ **Step 2:** Submit required documents\n✅ **Step 3:** Pay application fee (Rs. 2,000)\n✅ **Step 4:** Appear in entry test\n✅ **Step 5:** Merit list announcement\n\n📅 **Deadline:** March 15, 2024\n📞 **Contact:** +92-937-9230295",
              suggestions: ['Entry test details', 'Required documents', 'Fee structure']
            },
            {
              trigger: ['deadline', 'last date'],
              answer: "⏰ **Important Dates:**\n\n📅 **Application Deadline:** March 15, 2024\n📅 **Entry Test:** April 10-12, 2024\n📅 **Merit List:** April 20, 2024\n📅 **Admission Confirmation:** April 25, 2024\n\n⚠️ Don't miss the deadline! Apply now.",
              suggestions: ['Application form', 'Entry test preparation', 'Merit criteria']
            },
            {
              trigger: ['fee structure', 'fees', 'cost', 'tuition'],
              answer: "💰 **UET Mardan Fee Structure (Per Semester):**\n\n🎓 **Undergraduate Programs:**\n• Local Students: Rs. 45,000\n• Self-Finance: Rs. 85,000\n\n📚 **Additional Charges:**\n• Admission Fee: Rs. 15,000 (One-time)\n• Security Deposit: Rs. 5,000\n• Lab Fee: Rs. 3,000\n\n💳 Payment can be made online or via bank challan.",
              suggestions: ['Scholarship info', 'Payment methods', 'Fee concessions']
            }
          ]
        },
        
        // Academic programs
        programs: {
          keywords: ['program', 'course', 'degree', 'major', 'engineering', 'computer', 'civil', 'electrical', 'mechanical', 'software', 'ai'],
          responses: [
            {
              trigger: ['programs', 'courses', 'what programs', 'degrees offered'],
              answer: "🎓 **UET Mardan Engineering Programs:**\n\n💻 **Computer Science** (4 Years)\n🔧 **Software Engineering** (4 Years)\n🏗️ **Civil Engineering** (4 Years)\n⚡ **Electrical Engineering** (4 Years)\n🔩 **Mechanical Engineering** (4 Years)\n🧠 **Artificial Intelligence** (4 Years)\n\nAll programs are **HEC recognized** and **PEC accredited**!",
              suggestions: ['Computer Science details', 'Civil Engineering info', 'AI program']
            },
            {
              trigger: ['computer science', 'cs program'],
              answer: "💻 **Computer Science Program:**\n\n📚 **Duration:** 4 Years (8 Semesters)\n🎓 **Degree:** BS Computer Science\n\n**📖 Core Subjects:**\n• Programming Fundamentals\n• Data Structures & Algorithms\n• Software Engineering\n• Database Systems\n• Web Development\n• Mobile App Development\n• Machine Learning\n\n**💼 Career Prospects:** Software Developer, Data Scientist, Web Developer, System Analyst",
              suggestions: ['Admission requirements', 'Lab facilities', 'Faculty info']
            },
            {
              trigger: ['civil engineering', 'construction'],
              answer: "🏗️ **Civil Engineering Program:**\n\n📚 **Duration:** 4 Years (8 Semesters)\n🎓 **Degree:** BS Civil Engineering\n\n**📖 Core Subjects:**\n• Structural Engineering\n• Construction Management\n• Surveying & Mapping\n• Highway Engineering\n• Water Resources Engineering\n• Geotechnical Engineering\n\n**💼 Career Prospects:** Structural Engineer, Project Manager, Construction Supervisor, Urban Planner",
              suggestions: ['Lab facilities', 'Industrial visits', 'Faculty expertise']
            }
          ]
        },
        
        // Campus facilities
        facilities: {
          keywords: ['facilities', 'campus', 'library', 'lab', 'hostel', 'transport', 'sports'],
          responses: [
            {
              trigger: ['campus facilities', 'facilities', 'infrastructure'],
              answer: "🏫 **UET Mardan Campus Facilities:**\n\n📚 **Central Library** - 50,000+ books\n🔬 **Modern Laboratories** - Well-equipped\n🏠 **Hostel Accommodation** - Boys & Girls\n🚌 **Transport Service** - Multiple routes\n⚽ **Sports Complex** - Cricket, Football, Tennis\n🍽️ **Cafeteria** - Hygienic food\n🏥 **Medical Center** - First aid & emergency\n💻 **WiFi Campus** - High-speed internet\n\n**All facilities are world-class!**",
              suggestions: ['Library timing', 'Hostel fees', 'Sports activities']
            },
            {
              trigger: ['library', 'books'],
              answer: "📚 **UET Mardan Central Library:**\n\n📖 **Collection:** 50,000+ books & journals\n💻 **Digital Resources:** Online databases\n🪑 **Seating:** 300 students capacity\n⏰ **Timing:** 8:00 AM - 10:00 PM\n❄️ **Environment:** Air-conditioned\n📱 **Services:** Book reservation, renewal\n\n**Access to international research papers available!**",
              suggestions: ['Library membership', 'Study areas', 'Research facilities']
            }
          ]
        },
        
        // Contact and general info
        contact: {
          keywords: ['contact', 'phone', 'address', 'location', 'email', 'visit'],
          responses: [
            {
              trigger: ['contact', 'phone number', 'address'],
              answer: "📞 **Contact Information:**\n\n📱 **Phone Numbers:**\n• +92-937-9230295\n• +92-937-9230296\n\n📧 **Email:** info@uetmardan.edu.pk\n🌐 **Website:** www.uetmardan.edu.pk\n\n📍 **Address:**\nUniversity of Engineering & Technology\nCharsadda Road, 23200\nMardan, Khyber Pakhtunkhwa\nPakistan\n\n🕒 **Office Hours:** 8:00 AM - 4:00 PM (Mon-Fri)",
              suggestions: ['Visit campus', 'Admission office', 'Department contacts']
            }
          ]
        },
        
        // Scholarships
        scholarships: {
          keywords: ['scholarship', 'financial aid', 'merit', 'need based'],
          responses: [
            {
              trigger: ['scholarship', 'financial aid'],
              answer: "🎓 **Scholarship Opportunities:**\n\n💰 **Merit-based Scholarships:**\n• Top 3 positions: 100% tuition waiver\n• Position 4-10: 50% tuition waiver\n• Position 11-20: 25% tuition waiver\n\n🤝 **Need-based Scholarships:**\n• Up to 75% fee concession\n• For economically disadvantaged students\n\n🏆 **Special Scholarships:**\n• Sports scholarships available\n• Minority scholarships\n• Female student incentives\n\n**Apply early for better chances!**",
              suggestions: ['Application process', 'Eligibility criteria', 'Required documents']
            }
          ]
        }
      };
      
      // Greeting responses
      const greetings = [
        {
          triggers: ['hello', 'hi', 'hey', 'good morning', 'good afternoon', 'good evening'],
          responses: [
            "Hello! 👋 Welcome to UET Mardan. I'm your AI assistant. How can I help you today?",
            "Hi there! 😊 I'm here to help with any questions about UET Mardan. What would you like to know?",
            "Greetings! 🎓 I'm the UET Mardan AI assistant. Feel free to ask about admissions, programs, or facilities!"
          ]
        }
      ];
      
      // Default responses for unknown queries
      const defaultResponses = [
        "I'd be happy to help! Could you please rephrase your question or ask about admissions, programs, facilities, or contact information?",
        "I'm not sure I understand. Try asking about UET Mardan's programs, admission process, campus facilities, or scholarships.",
        "Let me help you better! You can ask about admissions, engineering programs, campus life, or how to contact us."
      ];
      
      // Chatbot event handlers
      $('#chatbot-toggle').on('click', function() {
        $('#chatbot-container').removeClass('chatbot-hidden').addClass('chatbot-visible');
        $(this).hide();
      });
      
      $('#chatbot-close').on('click', function() {
        $('#chatbot-container').removeClass('chatbot-visible').addClass('chatbot-hidden');
        setTimeout(() => {
          $('#chatbot-container').addClass('chatbot-hidden');
          $('#chatbot-toggle').show();
        }, 300);
      });
      
      $('#chatbot-minimize').on('click', function() {
        $('#chatbot-container').toggleClass('chatbot-minimized');
      });
      
      // Voice toggle functionality
      $('#voice-toggle').on('click', function() {
        voiceEnabled = !voiceEnabled;
        $(this).toggleClass('active');
        
        if (voiceEnabled) {
          addMessage('bot', '🎙️ Voice mode enabled! I can now speak responses aloud.', []);
        } else {
          addMessage('bot', '🔇 Voice mode disabled.', []);
        }
      });
      
      // Call button functionality
      $('#call-btn').on('click', function() {
        const $btn = $(this);
        $btn.addClass('calling');
        
        addMessage('bot', '📞 **Call Request Initiated**\n\nThank you for your interest! Our admissions team will contact you shortly.\n\n**Expected call time:** Within 2-4 hours during office hours (8 AM - 4 PM)\n\n**Alternative:** You can also call us directly at +92-937-9230295', 
          ['Admission info', 'Programs offered', 'Visit campus']);
        
        setTimeout(() => {
          $btn.removeClass('calling');
          addMessage('bot', '✅ Your call request has been logged. Reference ID: #UET' + Date.now().toString().slice(-6), []);
        }, 3000);
      });
      
      // Voice input functionality
      $('#voice-input-btn').on('click', function() {
        if (!recognition) {
          addMessage('bot', '❌ Voice recognition is not supported in your browser. Please type your message.', []);
          return;
        }
        
        if (isRecording) {
          recognition.stop();
          return;
        }
        
        startVoiceRecognition();
      });
      
      // Message input handlers
      $('#send-message').on('click', sendMessage);
      
      $('#chat-input').on('keypress', function(e) {
        if (e.which === 13) {
          sendMessage();
        }
      });
      
      // Quick suggestion handlers
      $(document).on('click', '.suggestion-btn', function() {
        const text = $(this).data('text');
        $('#chat-input').val(text);
        sendMessage();
      });

      // Close chatbot when clicking outside
      $(document).on('mousedown', function(event) {
        const $container = $('#chatbot-container');
        const $toggle = $('#chatbot-toggle');
        const isVisible = $container.hasClass('chatbot-visible') && !$container.hasClass('chatbot-hidden');
        if (!isVisible) return;
        const $target = $(event.target);
        if ($target.closest('#chatbot-container').length === 0 && $target.closest('#chatbot-toggle').length === 0) {
          // Close the chatbot and show the toggle button
          $container.removeClass('chatbot-visible').addClass('chatbot-hidden');
          $toggle.show();
        }
      });
      
      // Core chatbot functions
      function startVoiceRecognition() {
        isRecording = true;
        $('#voice-input-btn').addClass('recording');
        $('#voice-status').removeClass('hidden');
        
        recognition.onstart = () => {
          console.log('Voice recognition started');
        };
        
        recognition.onresult = (event) => {
          const transcript = event.results[0][0].transcript;
          $('#chat-input').val(transcript);
          sendMessage();
        };
        
        recognition.onerror = (event) => {
          console.error('Speech recognition error:', event.error);
          addMessage('bot', '❌ Voice recognition error. Please try again or type your message.', []);
        };
        
        recognition.onend = () => {
          isRecording = false;
          $('#voice-input-btn').removeClass('recording');
          $('#voice-status').addClass('hidden');
        };
        
        recognition.start();
      }
      
      function sendMessage() {
        const message = $('#chat-input').val().trim();
        if (!message) return;
        
        // Add user message
        addMessage('user', message, []);
        $('#chat-input').val('');
        
        // Show typing indicator
        showTyping();
        
        // Process message and respond
        setTimeout(() => {
          const response = processMessage(message);
          hideTyping();
          addMessage('bot', response.text, response.suggestions);
          
          if (voiceEnabled && response.text) {
            speakText(response.text.replace(/\*\*/g, '').replace(/[🎓📚💻🏗️⚡🔩🧠📋✅📅📞💰🎯📖🏫🔬]/g, ''));
          }
        }, Math.random() * 1000 + 500);
      }
      
      function processMessage(message) {
        const lowerMessage = message.toLowerCase();
        chatHistory.push({ type: 'user', text: message, timestamp: Date.now() });
        
        // Check for greetings
        for (const greeting of greetings) {
          if (greeting.triggers.some(trigger => lowerMessage.includes(trigger))) {
            const response = greeting.responses[Math.floor(Math.random() * greeting.responses.length)];
            return {
              text: response,
              suggestions: ['Tell me about programs', 'Admission process', 'Campus facilities', 'Contact info']
            };
          }
        }
        
        // Search knowledge base
        for (const [category, data] of Object.entries(knowledgeBase)) {
          // Check if message contains category keywords
          const hasKeyword = data.keywords.some(keyword => lowerMessage.includes(keyword));
          
          if (hasKeyword) {
            // Find specific response based on triggers
            for (const response of data.responses) {
              if (response.trigger.some(trigger => lowerMessage.includes(trigger))) {
                return {
                  text: response.answer,
                  suggestions: response.suggestions || []
                };
              }
            }
            
            // Return first response if no specific trigger matches
            return {
              text: data.responses[0].answer,
              suggestions: data.responses[0].suggestions || []
            };
          }
        }
        
        // Default response
        return {
          text: defaultResponses[Math.floor(Math.random() * defaultResponses.length)],
          suggestions: ['Admission process', 'Programs offered', 'Campus facilities', 'Contact us']
        };
      }
      
      function addMessage(type, text, suggestions) {
        const messageClass = type === 'user' ? 'user-message' : 'bot-message';
        const avatar = type === 'user' ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>';
        
        let suggestionsHtml = '';
        if (suggestions && suggestions.length > 0) {
          suggestionsHtml = '<div class="quick-suggestions">';
          suggestions.forEach(suggestion => {
            suggestionsHtml += `<button class="suggestion-btn" data-text="${suggestion}">${suggestion}</button>`;
          });
          suggestionsHtml += '</div>';
        }
        
        const messageHtml = `
          <div class="message ${messageClass}">
            <div class="message-avatar">${avatar}</div>
            <div class="message-content">
              <p>${text.replace(/\n/g, '<br>')}</p>
              ${suggestionsHtml}
            </div>
          </div>
        `;
        
        $('#chat-messages').append(messageHtml);
        scrollToBottom();
        
        // Store in chat history
        chatHistory.push({ type, text, timestamp: Date.now() });
      }
      
      function showTyping() {
        if (isTyping) return;
        isTyping = true;
        $('#typing-indicator').removeClass('hidden');
        scrollToBottom();
      }
      
      function hideTyping() {
        isTyping = false;
        $('#typing-indicator').addClass('hidden');
      }
      
      function scrollToBottom() {
        const chatMessages = $('#chat-messages');
        chatMessages.scrollTop(chatMessages[0].scrollHeight);
      }
      
      function speakText(text) {
        if (!synthesis) return;
        
        synthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.rate = 0.9;
        utterance.pitch = 1;
        utterance.volume = 0.8;
        
        synthesis.speak(utterance);
      }
      
      // Initialize chatbot
      console.log('🤖 UET Mardan AI Chatbot initialized successfully!');
      
      // ============= HERO BACKGROUND SLIDESHOW =============
      
      // Hero background slideshow functionality
      let currentBgIndex = 0;
      const heroBgLayers = $('.hero-bg-layer');
      const totalBgImages = heroBgLayers.length;
      
      if (totalBgImages > 0) {
        // Set initial background images
        heroBgLayers.each(function(index) {
          const bgImage = $(this).data('bg');
          $(this).css('background-image', `url('${bgImage}')`);
        });
        
        // Show first image
        heroBgLayers.eq(0).addClass('active');
        
        // Start slideshow if we have multiple images
        if (totalBgImages > 1) {
          setInterval(() => {
            // Fade out current image
            heroBgLayers.eq(currentBgIndex).removeClass('active').addClass('fade-out');
            
            // Move to next image
            currentBgIndex = (currentBgIndex + 1) % totalBgImages;
            
            // Fade in next image
            setTimeout(() => {
              heroBgLayers.eq(currentBgIndex).removeClass('fade-out').addClass('active');
            }, 100);
            
            // Clean up fade-out class after transition
            setTimeout(() => {
              heroBgLayers.removeClass('fade-out');
            }, 1500);
          }, 5000); // Change image every 5 seconds
        }
      }
      
      // ============= PAGES OVERLAY FUNCTIONALITY =============
      
      // Open Pages overlay when "Pages" nav item is clicked
      $('#pages-btn').on('click', function(e) {
        e.preventDefault();
        $('#pages-overlay').addClass('show');
        $('#pages-overlay').attr('aria-hidden', 'false');
      });
      
      // Close Pages overlay
      $('#pages-close').on('click', function() {
        closePagesOverlay();
      });
      
      // Close Pages overlay when clicking outside the panel
      $('#pages-overlay').on('click', function(e) {
        if (e.target === this) {
          closePagesOverlay();
        }
      });
      
      // Close with Escape key
      $(document).on('keydown', function(e) {
        if (e.key === 'Escape' && $('#pages-overlay').hasClass('show')) {
          closePagesOverlay();
        }
      });
      
      // Handle page link clicks (demo - no navigation)
      $('.page-link').on('click', function(e) {
        e.preventDefault();
        const pageName = $(this).text();
        
        // Optional: Show a tooltip or message
        $(this).append('<span class="demo-tooltip">Demo only</span>');
        setTimeout(() => {
          $('.demo-tooltip').remove();
        }, 1500);
        
        console.log(`Clicked on ${pageName} page (demo mode)`);
      });
      
      function closePagesOverlay() {
        $('#pages-overlay').removeClass('show');
        $('#pages-overlay').attr('aria-hidden', 'true');
      }
      
    });
</script>
</body>
</html>
